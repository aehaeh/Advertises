@page
@using Advertises.Models
@model Advertises.EditModel
@{
    ViewData["Title"] = "Edit";
    Layout = "~/Pages/Shared/_Layout.cshtml";

}


<div>
    <h1 class="rtl text-center">ویرایش</h1>
</div>
<div class="row rtl justify-content-center">



    <div class="col-5">

        <form method="post" class=" col-md-4 m-auto justify-content-center">
            <div class="deleteImage">
            </div>
            <div>
                <label>عنوان</label>
                <input type="text" asp-for="MyAdvertisement.Title" placeholder="عنوان" class="form-control mb-2 w-100" />

            </div>
            <div>
                <label>توضیحات</label>
                <input type="text" asp-for="MyAdvertisement.Description" placeholder="شرح" class="form-control mb-2 w-100" />
                <input type="hidden" asp-for="MyAdvertisement.Id" />
            </div>
            <div class="custom-control custom-checkbox">
                <input type="checkbox" asp-for="MyAdvertisement.IsActive" class="custom-control-input mb-1 " id="customControlValidation1" required/>
                <label class="custom-control-label" for="customControlValidation1">فعال </label>
                <div class="invalid-feedback">برای فعال نمودن تیک را فعال کنید</div>

            </div>
            <div>
                <select asp-items="Model.ListCategories" asp-for="MyAdvertisement.InnerCategoryId"  class="form-control mb-2 w-100"></select>
            </div>
            <div>

                @*@foreach (Image img in Model.MyAdvertisement.Images)*@
                @for (int i = 0; i < Model.MyAdvertisement.Images.Count; i++)
                {
                    <div class="advertise_img">

                        <img class="td_Image" src="@("data:image/png;base64," + Convert.ToBase64String(Model.MyAdvertisement.Images[i].File))" />
                        <input type="hidden" asp-for="MyAdvertisement.Images[i].Id" />
                        <div>
                            <span image-id="@Model.MyAdvertisement.Images[i].Id"> حذف </span>
                        </div>

                    </div>
                }
            </div>
            <div>
                <button type="submit" class="mb-3  btn btn-primary">
                    ذخیره

                </button>
                <a asp-page="./Index">Back to List</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {

    <script src="~/js/Edit.js"></script>

}